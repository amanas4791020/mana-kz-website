# Подробное руководство по развертыванию сайта mana.kz

Это руководство поможет вам развернуть сайт мастера Манаса на домене mana.kz.

## Быстрый старт

### 1. Подготовка проекта

```bash
# Скачайте проект и перейдите в папку
cd mana-kz-website

# Установите зависимости
pnpm install
# или
npm install

# Проверьте работу локально
pnpm dev
# или
npm run dev
```

### 2. Настройка Google Maps API

**ВАЖНО:** Для работы интерактивной карты необходим API ключ Google Maps.

1. Перейдите в [Google Cloud Console](https://console.cloud.google.com)
2. Создайте новый проект или выберите существующий
3. Включите "Maps JavaScript API"
4. Создайте API ключ с ограничениями по домену
5. Замените ключ в файле `src/components/ServiceMap.tsx`:

```typescript
// Найдите эту строку:
const GOOGLE_MAPS_API_KEY = 'AIzaSyCO0kKndUNlmQi3B5mxy4dblg_8WYcuKuk'

// Замените на ваш ключ:
const GOOGLE_MAPS_API_KEY = 'ВАШ_API_КЛЮЧ'
```

## Варианты развертывания

### Вариант 1: Netlify (Рекомендуется для начинающих)

**Преимущества:**
- Бесплатный план
- Автоматические развертывания из Git
- SSL сертификаты
- Глобальная CDN

**Шаги:**

1. **Создайте аккаунт на Netlify:**
   - Перейдите на [netlify.com](https://netlify.com)
   - Зарегистрируйтесь через GitHub

2. **Загрузите проект в GitHub:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/ваш-username/mana-kz-website.git
   git push -u origin main
   ```

3. **Подключите GitHub к Netlify:**
   - В Netlify нажмите "New site from Git"
   - Выберите GitHub и авторизуйтесь
   - Выберите репозиторий `mana-kz-website`
   - Настройки сборки заполнятся автоматически

4. **Настройте домен:**
   - В настройках сайта перейдите в "Domain management"
   - Нажмите "Add custom domain"
   - Введите `mana.kz`
   - Следуйте инструкциям по настройке DNS

5. **Настройте DNS у регистратора домена:**
   ```
   Тип записи: A
   Имя: @
   Значение: 75.2.60.5
   
   Тип записи: CNAME
   Имя: www
   Значение: ваш-сайт.netlify.app
   ```

### Вариант 2: Vercel (Для разработчиков)

**Преимущества:**
- Отличная производительность
- Автоматические развертывания
- Бесплатный план

**Шаги:**

1. **Создайте аккаунт на Vercel:**
   - Перейдите на [vercel.com](https://vercel.com)
   - Зарегистрируйтесь через GitHub

2. **Импортируйте проект:**
   - Нажмите "New Project"
   - Импортируйте из GitHub
   - Выберите репозиторий

3. **Настройте домен:**
   - В настройках проекта добавьте домен `mana.kz`
   - Настройте DNS:
   ```
   Тип записи: A
   Имя: @
   Значение: 76.76.19.61
   
   Тип записи: CNAME
   Имя: www
   Значение: cname.vercel-dns.com
   ```

### Вариант 3: Обычный хостинг (cPanel, FTP)

**Для тех, у кого уже есть хостинг:**

1. **Соберите проект:**
   ```bash
   pnpm build
   # или
   npm run build
   ```

2. **Загрузите файлы:**
   - Содержимое папки `dist/` загрузите в корень сайта
   - Обычно это папка `public_html/` или `www/`

3. **Настройте сервер:**
   - Файл `.htaccess` уже включен в проект
   - Он настроит правильную маршрутизацию для SPA

### Вариант 4: GitHub Pages (Бесплатно)

**Для экономии средств:**

1. **Настройте репозиторий:**
   - Файл `.github/workflows/deploy.yml` уже готов
   - При каждом push в `main` будет автоматическая сборка

2. **Включите GitHub Pages:**
   - В настройках репозитория → Pages
   - Source: GitHub Actions

3. **Настройте домен:**
   - В настройках Pages укажите `mana.kz`
   - Создайте файл `CNAME` с содержимым `mana.kz`
   - Настройте DNS:
   ```
   Тип записи: A
   Имя: @
   Значение: 185.199.108.153
   
   Тип записи: A
   Имя: @
   Значение: 185.199.109.153
   
   Тип записи: A
   Имя: @
   Значение: 185.199.110.153
   
   Тип записи: A
   Имя: @
   Значение: 185.199.111.153
   
   Тип записи: CNAME
   Имя: www
   Значение: ваш-username.github.io
   ```

## Настройка DNS для домена mana.kz

### Где настраивать DNS

DNS записи настраиваются у регистратора домена .kz:

1. **Nic.kz** - если домен зарегистрирован через них
2. **Казахтелеком** - для корпоративных клиентов
3. **PS.kz** - популярный регистратор
4. **Хостинг-провайдер** - если используете их DNS сервера

### Проверка текущих DNS записей

```bash
# Проверьте текущие A записи
nslookup mana.kz

# Проверьте CNAME записи
nslookup www.mana.kz

# Подробная информация
dig mana.kz
```

### Время распространения

- **Обычно:** 1-24 часа
- **Максимум:** 48 часов
- **Локальная проверка:** Очистите кэш DNS:
  ```bash
  # Windows
  ipconfig /flushdns
  
  # macOS
  sudo dscacheutil -flushcache
  
  # Linux
  sudo systemctl flush-dns
  ```

## Проверка и тестирование

### 1. Локальная проверка

```bash
# Запуск в режиме разработки
pnpm dev

# Сборка и предварительный просмотр
pnpm build
pnpm preview
```

### 2. Проверка после развертывания

- **Функциональность:**
  - Все страницы загружаются
  - Калькулятор работает
  - Карта отображается
  - WhatsApp ссылки работают
  - Форма бронирования функционирует

- **SEO проверка:**
  - [Google PageSpeed Insights](https://pagespeed.web.dev/)
  - [GTmetrix](https://gtmetrix.com/)
  - Проверьте robots.txt: `https://mana.kz/robots.txt`
  - Проверьте sitemap: `https://mana.kz/sitemap.xml`

### 3. Мобильная версия

- Откройте сайт на телефоне
- Проверьте кнопку "Вызвать мастера" - должна открывать приложение для звонков
- WhatsApp ссылки должны открывать приложение

## Обслуживание и обновления

### Обновление контента

1. **Цены на услуги:**
   - Отредактируйте `public/data/pricing.json`
   - Загрузите изменения на хостинг

2. **Контактная информация:**
   - Файлы: `src/pages/HomePage.tsx`, `src/pages/ContactPage.tsx`
   - Найдите номера телефонов и замените

3. **Галерея работ:**
   - Добавьте изображения в `public/images/gallery/`
   - Обновите `public/data/gallery.json`

### Мониторинг

1. **Google Analytics:**
   - Добавьте код отслеживания в `index.html`
   
2. **Яндекс.Метрика:**
   - Добавьте счетчик в `index.html`

3. **Google Search Console:**
   - Добавьте сайт для мониторинга индексации

### Резервное копирование

1. **Регулярно сохраняйте:**
   - Код в Git репозитории
   - Данные (`public/data/` папка)
   - Изображения (`public/images/` папка)

2. **Автоматическое резервное копирование:**
   - Настройте у хостинг-провайдера
   - Используйте облачные хранилища

## Устранение проблем

### Сайт не открывается

1. Проверьте DNS записи
2. Убедитесь, что файлы загружены
3. Проверьте настройки хостинга

### Карта не работает

1. Проверьте Google Maps API ключ
2. Убедитесь, что API включен в Google Cloud
3. Проверьте ограничения по домену

### Кнопки телефонов не работают

1. Проверьте формат номеров: `tel:+77055535332`
2. Убедитесь, что номера правильные

### Медленная загрузка

1. Оптимизируйте изображения
2. Включите сжатие на сервере
3. Используйте CDN

## Контакты для поддержки

**Мастер Манас:**
- Телефон: +7 705 553 53 32, +7 707 479 10 20
- Адрес: Алматы, мкр Аксай 4-11

**Техническая поддержка:**
- Email: [ваш-email]
- Telegram: [ваш-telegram]

---

**Последнее обновление:** 8 сентября 2025 года
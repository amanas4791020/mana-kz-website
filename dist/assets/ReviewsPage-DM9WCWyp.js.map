{"version":3,"file":"ReviewsPage-DM9WCWyp.js","sources":["../../src/pages/ReviewsPage.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Star, Send, User, Mail, MessageSquare, Camera, CheckCircle, X } from 'lucide-react'\n\ninterface Review {\n  name: string\n  age?: number\n  rating: number\n  comment: string\n  date?: string\n  avatar?: string\n}\n\ninterface NewReview {\n  name: string\n  email: string\n  rating: number\n  comment: string\n  photo?: File\n}\n\nconst AVATAR_COLORS = [\n  'bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-red-500', \n  'bg-yellow-500', 'bg-indigo-500', 'bg-pink-500', 'bg-teal-500'\n]\n\nfunction getAvatarColor(index: number) {\n  return AVATAR_COLORS[index % AVATAR_COLORS.length]\n}\n\nfunction getInitials(name: string) {\n  return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2)\n}\n\nfunction StarRating({ rating, onRatingChange, readonly = false, size = 'md' }: {\n  rating: number\n  onRatingChange?: (rating: number) => void\n  readonly?: boolean\n  size?: 'sm' | 'md' | 'lg'\n}) {\n  const [hoverRating, setHoverRating] = useState(0)\n  \n  const sizeClass = {\n    sm: 'w-4 h-4',\n    md: 'w-5 h-5',\n    lg: 'w-6 h-6'\n  }[size]\n\n  return (\n    <div className=\"flex items-center space-x-1\">\n      {[1, 2, 3, 4, 5].map((star) => {\n        const isFilled = star <= (hoverRating || rating)\n        return (\n          <Star\n            key={star}\n            className={`${sizeClass} ${isFilled ? 'text-yellow-400 fill-current' : 'text-gray-300'} ${\n              !readonly ? 'cursor-pointer hover:scale-110 transition-transform' : ''\n            }`}\n            onClick={() => !readonly && onRatingChange?.(star)}\n            onMouseEnter={() => !readonly && setHoverRating(star)}\n            onMouseLeave={() => !readonly && setHoverRating(0)}\n          />\n        )\n      })}\n    </div>\n  )\n}\n\nfunction ReviewCard({ review, index }: { review: Review; index: number }) {\n  const formatDate = (dateString?: string) => {\n    if (!dateString) return 'недавно'\n    const date = new Date(dateString)\n    return date.toLocaleDateString('ru-RU', { \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric' \n    })\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow\">\n      <div className=\"flex items-start space-x-4\">\n        <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold ${getAvatarColor(index)}`}>\n          {getInitials(review.name)}\n        </div>\n        <div className=\"flex-1\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div>\n              <h3 className=\"font-semibold text-gray-900\">{review.name}</h3>\n              {review.age && (\n                <p className=\"text-sm text-gray-600\">{review.age} лет</p>\n              )}\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <StarRating rating={review.rating} readonly size=\"sm\" />\n              <span className=\"text-sm text-gray-600\">({review.rating}.0)</span>\n            </div>\n          </div>\n          <p className=\"text-gray-700 mb-2\">{review.comment}</p>\n          <p className=\"text-sm text-gray-500\">{formatDate(review.date)}</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function ReviewsPage() {\n  const [reviews, setReviews] = useState<Review[]>([])\n  const [loading, setLoading] = useState(true)\n  const [showForm, setShowForm] = useState(false)\n  const [submitting, setSubmitting] = useState(false)\n  const [submitSuccess, setSubmitSuccess] = useState(false)\n  const [newReview, setNewReview] = useState<NewReview>({\n    name: '',\n    email: '',\n    rating: 0,\n    comment: ''\n  })\n  const [errors, setErrors] = useState<Record<string, string>>({})\n\n  useEffect(() => {\n    fetch('/data/reviews.json')\n      .then(res => res.json())\n      .then(data => {\n        // Add dates to existing reviews\n        const reviewsWithDates = data.map((review: Review, index: number) => ({\n          ...review,\n          date: new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toISOString()\n        }))\n        setReviews(reviewsWithDates)\n        setLoading(false)\n      })\n      .catch(() => setLoading(false))\n  }, [])\n\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {}\n    \n    if (!newReview.name.trim()) {\n      newErrors.name = 'Имя обязательно для заполнения'\n    } else if (newReview.name.trim().length < 2) {\n      newErrors.name = 'Имя должно содержать минимум 2 символа'\n    }\n    \n    if (!newReview.email.trim()) {\n      newErrors.email = 'Email обязателен для заполнения'\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newReview.email)) {\n      newErrors.email = 'Введите корректный email адрес'\n    }\n    \n    if (newReview.rating === 0) {\n      newErrors.rating = 'Пожалуйста, поставьте оценку'\n    }\n    \n    if (!newReview.comment.trim()) {\n      newErrors.comment = 'Комментарий обязателен для заполнения'\n    } else if (newReview.comment.trim().length < 10) {\n      newErrors.comment = 'Комментарий должен содержать минимум 10 символов'\n    } else if (newReview.comment.trim().length > 500) {\n      newErrors.comment = 'Комментарий не должен превышать 500 символов'\n    }\n    \n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!validateForm()) return\n    \n    setSubmitting(true)\n    \n    // Simulate API call\n    setTimeout(() => {\n      const reviewToAdd: Review = {\n        name: newReview.name,\n        rating: newReview.rating,\n        comment: newReview.comment,\n        date: new Date().toISOString()\n      }\n      \n      setReviews([reviewToAdd, ...reviews])\n      setNewReview({ name: '', email: '', rating: 0, comment: '' })\n      setShowForm(false)\n      setSubmitting(false)\n      setSubmitSuccess(true)\n      \n      setTimeout(() => setSubmitSuccess(false), 5000)\n    }, 1500)\n  }\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      // Validate file type and size\n      if (!file.type.startsWith('image/')) {\n        setErrors({ ...errors, photo: 'Можно загружать только изображения' })\n        return\n      }\n      if (file.size > 5 * 1024 * 1024) {\n        setErrors({ ...errors, photo: 'Размер файла не должен превышать 5MB' })\n        return\n      }\n      setNewReview({ ...newReview, photo: file })\n      setErrors({ ...errors, photo: '' })\n    }\n  }\n\n  const averageRating = reviews.length > 0 ? (reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length).toFixed(1) : '5.0'\n  const ratingDistribution = [5, 4, 3, 2, 1].map(rating => {\n    const count = reviews.filter(r => r.rating === rating).length\n    const percentage = reviews.length > 0 ? (count / reviews.length) * 100 : 0\n    return { rating, count, percentage }\n  })\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen py-8 bg-gray-50\">\n      <div className=\"container mx-auto px-4\">\n        {/* Breadcrumbs */}\n        <nav className=\"mb-8 text-sm\" aria-label=\"Breadcrumb\">\n          <ol className=\"flex items-center space-x-2\">\n            <li>\n              <Link to=\"/\" className=\"text-blue-600 hover:text-blue-700\">\n                Главная\n              </Link>\n            </li>\n            <li>\n              <span className=\"text-gray-400\">/</span>\n            </li>\n            <li>\n              <span className=\"text-gray-900 font-medium\">Отзывы</span>\n            </li>\n          </ol>\n        </nav>\n\n        {/* Success Message */}\n        {submitSuccess && (\n          <div className=\"fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50 flex items-center space-x-2\">\n            <CheckCircle className=\"w-5 h-5\" />\n            <span>Спасибо за ваш отзыв!</span>\n          </div>\n        )}\n\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl lg:text-5xl font-bold text-gray-900 mb-4\">\n            Отзывы клиентов\n          </h1>\n          <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n            Что говорят наши клиенты о качестве работы мастера Манаса\n          </p>\n        </div>\n\n        {/* Stats Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-8 mb-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            {/* Overall Rating */}\n            <div className=\"text-center lg:text-left\">\n              <div className=\"flex flex-col lg:flex-row items-center space-y-4 lg:space-y-0 lg:space-x-6\">\n                <div>\n                  <div className=\"text-5xl font-bold text-gray-900 mb-2\">{averageRating}</div>\n                  <StarRating rating={Math.round(parseFloat(averageRating))} readonly size=\"lg\" />\n                  <p className=\"text-gray-600 mt-2\">{reviews.length} отзывов</p>\n                </div>\n                <div className=\"flex-1 w-full lg:w-auto\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Распределение оценок</h3>\n                  <div className=\"space-y-2\">\n                    {ratingDistribution.map(({ rating, count, percentage }) => (\n                      <div key={rating} className=\"flex items-center space-x-3\">\n                        <span className=\"text-sm text-gray-600 w-6\">{rating}</span>\n                        <Star className=\"w-4 h-4 text-yellow-400 fill-current\" />\n                        <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-yellow-400 h-2 rounded-full\" \n                            style={{ width: `${percentage}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"text-sm text-gray-600 w-8\">{count}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* Action Button */}\n            <div className=\"flex items-center justify-center\">\n              <div className=\"text-center\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                  Поделитесь своим опытом\n                </h3>\n                <p className=\"text-gray-600 mb-6\">\n                  Ваш отзыв поможет другим клиентам сделать правильный выбор\n                </p>\n                <button\n                  onClick={() => setShowForm(true)}\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2\"\n                >\n                  <MessageSquare className=\"w-5 h-5\" />\n                  <span>Оставить отзыв</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Review Form Modal */}\n        {showForm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto\">\n              <div className=\"sticky top-0 bg-white p-6 border-b\">\n                <div className=\"flex items-center justify-between\">\n                  <h2 className=\"text-xl font-bold text-gray-900\">Оставить отзыв</h2>\n                  <button\n                    onClick={() => setShowForm(false)}\n                    className=\"text-gray-400 hover:text-gray-600\"\n                  >\n                    <X className=\"w-6 h-6\" />\n                  </button>\n                </div>\n              </div>\n              \n              <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n                {/* Name Field */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Имя *\n                  </label>\n                  <div className=\"relative\">\n                    <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                    <input\n                      type=\"text\"\n                      value={newReview.name}\n                      onChange={(e) => setNewReview({ ...newReview, name: e.target.value })}\n                      className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        errors.name ? 'border-red-500' : 'border-gray-300'\n                      }`}\n                      placeholder=\"Ваше имя\"\n                    />\n                  </div>\n                  {errors.name && <p className=\"text-red-600 text-sm mt-1\">{errors.name}</p>}\n                </div>\n\n                {/* Email Field */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Email *\n                  </label>\n                  <div className=\"relative\">\n                    <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                    <input\n                      type=\"email\"\n                      value={newReview.email}\n                      onChange={(e) => setNewReview({ ...newReview, email: e.target.value })}\n                      className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        errors.email ? 'border-red-500' : 'border-gray-300'\n                      }`}\n                      placeholder=\"your@email.com\"\n                    />\n                  </div>\n                  {errors.email && <p className=\"text-red-600 text-sm mt-1\">{errors.email}</p>}\n                </div>\n\n                {/* Rating Field */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Ваша оценка *\n                  </label>\n                  <div className=\"flex items-center space-x-4\">\n                    <StarRating \n                      rating={newReview.rating} \n                      onRatingChange={(rating) => setNewReview({ ...newReview, rating })} \n                      size=\"lg\"\n                    />\n                    {newReview.rating > 0 && (\n                      <span className=\"text-sm text-gray-600\">({newReview.rating} из 5)</span>\n                    )}\n                  </div>\n                  {errors.rating && <p className=\"text-red-600 text-sm mt-1\">{errors.rating}</p>}\n                </div>\n\n                {/* Comment Field */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Ваш отзыв *\n                  </label>\n                  <textarea\n                    value={newReview.comment}\n                    onChange={(e) => setNewReview({ ...newReview, comment: e.target.value })}\n                    rows={4}\n                    className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${\n                      errors.comment ? 'border-red-500' : 'border-gray-300'\n                    }`}\n                    placeholder=\"Расскажите о вашем опыте работы с мастером Манасом...\"\n                  />\n                  <div className=\"flex justify-between mt-1\">\n                    <div>\n                      {errors.comment && <p className=\"text-red-600 text-sm\">{errors.comment}</p>}\n                    </div>\n                    <p className=\"text-sm text-gray-500\">{newReview.comment.length}/500</p>\n                  </div>\n                </div>\n\n                {/* Photo Upload */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Фото (опционально)\n                  </label>\n                  <div className=\"flex items-center space-x-4\">\n                    <label className=\"cursor-pointer bg-gray-50 hover:bg-gray-100 border border-gray-300 rounded-lg px-4 py-2 text-sm text-gray-600 transition-colors flex items-center space-x-2\">\n                      <Camera className=\"w-4 h-4\" />\n                      <span>Выбрать файл</span>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleFileChange}\n                        className=\"hidden\"\n                      />\n                    </label>\n                    {newReview.photo && (\n                      <span className=\"text-sm text-green-600\">{newReview.photo.name}</span>\n                    )}\n                  </div>\n                  {errors.photo && <p className=\"text-red-600 text-sm mt-1\">{errors.photo}</p>}\n                </div>\n\n                {/* Submit Button */}\n                <div className=\"flex space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowForm(false)}\n                    className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg font-medium transition-colors\"\n                    disabled={submitting}\n                  >\n                    Отмена\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={submitting}\n                    className=\"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2\"\n                  >\n                    {submitting ? (\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                    ) : (\n                      <>\n                        <Send className=\"w-4 h-4\" />\n                        <span>Отправить отзыв</span>\n                      </>\n                    )}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Reviews List */}\n        <div className=\"space-y-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Все отзывы ({reviews.length})</h2>\n          \n          {reviews.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <MessageSquare className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Пока нет отзывов</h3>\n              <p className=\"text-gray-600\">Будьте первым, кто оставит отзыв о работе мастера Манаса</p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {reviews.map((review, index) => (\n                <ReviewCard key={index} review={review} index={index} />\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* CTA Section */}\n        <div className=\"mt-12 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-8 text-center text-white\">\n          <h2 className=\"text-2xl font-bold mb-4\">Готовы заказать услугу?</h2>\n          <p className=\"text-blue-100 mb-6\">\n            Присоединяйтесь к довольным клиентам мастера Манаса\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <a \n              href=\"tel:+77055535332\" \n              className=\"bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-lg font-medium transition-colors\"\n            >\n              📞 +7 705 553 53 32\n            </a>\n            <a \n              href=\"https://wa.me/77055535332\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\" \n              className=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors\"\n            >\n              💬 Написать в WhatsApp\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":["AVATAR_COLORS","getAvatarColor","index","length","StarRating","rating","onRatingChange","readonly","size","hoverRating","setHoverRating","useState","sizeClass","sm","md","lg","jsx","className","children","map","star","isFilled","Star","onClick","onMouseEnter","onMouseLeave","ReviewCard","review","jsxs","name","split","n","join","toUpperCase","slice","age","comment","dateString","Date","toLocaleDateString","year","month","day","formatDate","date","ReviewsPage","reviews","setReviews","loading","setLoading","showForm","setShowForm","submitting","setSubmitting","submitSuccess","setSubmitSuccess","newReview","setNewReview","email","errors","setErrors","useEffect","fetch","then","res","json","data","reviewsWithDates","now","Math","random","toISOString","catch","averageRating","reduce","sum","r","toFixed","ratingDistribution","count","filter","percentage","Link","to","CheckCircle","round","parseFloat","style","width","MessageSquare","X","onSubmit","async","e","preventDefault","newErrors","trim","test","Object","keys","validateForm","setTimeout","reviewToAdd","User","type","value","onChange","target","placeholder","Mail","rows","Camera","accept","file","_a","files","startsWith","photo","disabled","Fragment","Send","href","rel"],"mappings":"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"}
import{j as e}from"./ui-KNsN3tFJ.js";import{b as s,r as t,L as l}from"./router-C54lqrd6.js";import{g as a,T as r,k as n,U as c,d as i,C as o,l as d,P as x,m}from"./icons-2Wv2yAMS.js";import"./vendor-Z2Iecplj.js";const h={"советы":"Советы","аварии":"Аварийные ситуации","установка":"Установка оборудования","отопление":"Отопление","электрика":"Электрика","инструкции":"Пошаговые инструкции","оборудование":"Выбор оборудования"},g={"советы":"bg-blue-100 text-blue-700","аварии":"bg-red-100 text-red-700","установка":"bg-green-100 text-green-700","отопление":"bg-orange-100 text-orange-700","электрика":"bg-yellow-100 text-yellow-700","инструкции":"bg-purple-100 text-purple-700","оборудование":"bg-indigo-100 text-indigo-700"};function b(){var b;const{postId:p}=s(),[u,j]=t.useState(null),[N,y]=t.useState([]),[f,v]=t.useState(!0),[w,k]=t.useState(!1),[C,S]=t.useState(!1);t.useEffect(()=>{fetch("/data/blog-posts-full.json").then(e=>e.json()).then(e=>{const s=e.find(e=>e.id===p);if(j(s||null),s){const t=e.filter(e=>e.id!==p&&e.category===s.category).slice(0,3);y(t)}v(!1)}).catch(()=>v(!1))},[p]);const $=e=>new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),I=e=>{const s=window.location.href,t=(null==u?void 0:u.title)||"";switch(e){case"telegram":window.open(`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${encodeURIComponent(t)}`,"_blank");break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(t+" "+s)}`,"_blank");break;case"copy":navigator.clipboard.writeText(s),alert("Ссылка скопирована в буфер обмена")}S(!1)};if(f)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Статья не найдена"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"К сожалению, запрашиваемая статья не существует"}),e.jsxs(l,{to:"/blog",className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[e.jsx(a,{className:"w-5 h-5 mr-2"}),"Вернуться к блогу"]})]})});const T=u.readTime||(e=>{const s=e.replace(/<[^>]*>/g,"").split(" ").length;return Math.ceil(s/200)})(u.content),U=g[u.category]||"bg-gray-100 text-gray-700";return e.jsx("div",{className:"min-h-screen py-8 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(l,{to:"/blog",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[e.jsx(a,{className:"w-5 h-5 mr-2"}),"Все статьи"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("article",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${U}`,children:[e.jsx(r,{className:"w-4 h-4 inline mr-1"}),h[u.category]||u.category]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>S(!C),className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(n,{className:"w-5 h-5"})}),C&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>I("telegram"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Поделиться в Telegram"}),e.jsx("button",{onClick:()=>I("whatsapp"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Поделиться в WhatsApp"}),e.jsx("button",{onClick:()=>I("copy"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Копировать ссылку"})]})})]})]}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-6",children:u.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-gray-600 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"w-4 h-4"}),e.jsx("span",{children:u.author||"Мастер Манас"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{children:$(u.date)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsxs("span",{children:[T," мин чтения"]})]})]}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed border-l-4 border-blue-500 pl-6 bg-blue-50 p-4 rounded-r-lg",children:u.excerpt})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:u.content},style:{fontSize:"16px",lineHeight:"1.7"}})}),e.jsx("div",{className:"px-8 pb-8 border-t",children:e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsxs("button",{onClick:()=>k(!w),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors "+(w?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e.jsx(d,{className:"w-4 h-4 "+(w?"fill-current":"")}),e.jsx("span",{children:w?"Спасибо!":"Полезная статья"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Опубликовано: ",$(u.date)]})]})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-8 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:"/images/master-manas.png",alt:"Мастер Манас",className:"w-20 h-20 rounded-full mx-auto mb-4 object-cover border-2 border-gray-200"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Мастер Манас"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Профессиональный сантехник и электрик с 7+ летним опытом работы в Алматы"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("a",{href:"tel:+77055535332",className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors text-center block text-sm",children:[e.jsx(x,{className:"w-4 h-4 inline mr-2"}),"Позвонить"]}),e.jsxs("a",{href:"https://wa.me/77055535332",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors text-center block text-sm",children:[e.jsx(m,{className:"w-4 h-4 inline mr-2"}),"WhatsApp"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Содержание"}),e.jsx("div",{className:"space-y-2",children:null==(b=u.content.match(/<h3[^>]*>([^<]+)<\/h3>/g))?void 0:b.map((s,t)=>{const l=s.replace(/<[^>]*>/g,""),a=l.toLowerCase().replace(/[^a-zA-Zа-яё\s]/g,"").replace(/\s+/g,"-");return e.jsx("a",{href:`#${a}`,className:"block text-sm text-gray-600 hover:text-blue-600 transition-colors py-1",children:l},t)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Нужна помощь?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{to:"/uslugi",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"→ Посмотреть все услуги"}),e.jsx(l,{to:"/kontakty",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"→ Связаться с мастером"}),e.jsx(l,{to:"/otzyvy",className:"block text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"→ Читать отзывы"})]})]})]})})]}),N.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Похожие статьи"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N.map(s=>e.jsxs(l,{to:`/blog/${s.id}`,className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-all hover:-translate-y-1 group",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mb-3 ${g[s.category]}`,children:h[s.category]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:s.excerpt}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(i,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:$(s.date)})]})]},s.id))})]})]})})}export{b as BlogPostPage};
//# sourceMappingURL=BlogPostPage-DMwLDKJk.js.map
